<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Dear List - ふたりの記念日カレンダー</title>

    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#FF6B9D">
    <meta name="description" content="ふたりの大切な記念日をカウントするアプリ">
    <link rel="manifest" href="manifest.json">

    <!-- Apple PWA Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Dear List">
    <link rel="apple-touch-icon" href="icon.svg">

    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;500;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="container">
        <!-- Floating hearts decoration -->
        <div class="floating-hearts">
            <span class="heart">💕</span>
            <span class="heart">💗</span>
            <span class="heart">💖</span>
            <span class="heart">💝</span>
            <span class="heart">💕</span>
        </div>

        <header class="app-header">
            <h1>💑 Dear List</h1>
            <p class="subtitle">ふたりの大切な記念日をカウント</p>
        </header>

        <section class="input-section">
            <div class="input-card">
                <h2>ふたりの記念日</h2>
                <div class="date-input-group">
                    <input type="date" id="startDate" value="2020-04-30" required>
                </div>
                <div class="count-mode-toggle">
                    <span class="toggle-label">記念日当日は</span>
                    <div class="toggle-switch">
                        <input type="checkbox" id="countMode" checked>
                        <label for="countMode">
                            <span class="toggle-option" data-value="0">0日</span>
                            <span class="toggle-option" data-value="1">1日</span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="couple-cards">
                <div class="person-card person-1">
                    <div class="person-icon">🩵</div>
                    <h3>Male</h3>
                    <div class="input-group">
                        <label for="name1">お名前</label>
                        <input type="text" id="name1" placeholder="例: たろう" value="けい" required>
                    </div>
                    <div class="input-group">
                        <label for="birthday1">誕生日</label>
                        <input type="date" id="birthday1" value="1992-07-17" required>
                    </div>
                </div>

                <div class="heart-connector">💕</div>

                <div class="person-card person-2">
                    <div class="person-icon">❤️</div>
                    <h3>Female</h3>
                    <div class="input-group">
                        <label for="name2">お名前</label>
                        <input type="text" id="name2" placeholder="例: はなこ" value="とも" required>
                    </div>
                    <div class="input-group">
                        <label for="birthday2">誕生日</label>
                        <input type="date" id="birthday2" value="1985-08-19" required>
                    </div>
                </div>
            </div>

            <button class="calculate-btn" id="calculateBtn">
                <span class="btn-icon">✨</span>
                記念日を計算する
                <span class="btn-icon">✨</span>
            </button>
        </section>

        <section class="result-section" id="resultSection" style="display: none;">
            <div class="days-counter">
                <p class="counter-label">今日までの日数</p>
                <div class="counter-number" id="totalDays">0</div>
                <p class="counter-suffix">日目</p>
            </div>

            <div class="milestone-tabs">
                <div class="tab-buttons">
                    <button class="tab-btn active" data-tab="tab100">100日</button>
                    <button class="tab-btn" data-tab="tab111">ゾロ目</button>
                    <button class="tab-btn" data-tab="tabHalfYear">周年</button>
                    <button class="tab-btn" data-tab="tabBirthday">誕生日</button>
                </div>
                <button class="hide-passed-btn" id="hidePassedBtn">経過を非表示</button>

                <div class="tab-panels">
                    <div class="tab-panel active" id="tab100">
                        <div class="table-container">
                            <h3>100日倍数記念日</h3>
                            <table id="table100">
                                <thead>
                                    <tr>
                                        <th>日数</th>
                                        <th>日付</th>
                                        <th>曜日</th>
                                        <th>記念日まで</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>

                    <div class="tab-panel" id="tab111">
                        <div class="table-container">
                            <h3>ゾロ目記念日</h3>
                            <table id="table111">
                                <thead>
                                    <tr>
                                        <th>日数</th>
                                        <th>日付</th>
                                        <th>曜日</th>
                                        <th>記念日まで</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>

                    <div class="tab-panel" id="tabHalfYear">
                        <div class="table-container">
                            <h3>周年記念日</h3>
                            <table id="tableHalfYear">
                                <thead>
                                    <tr>
                                        <th>周年</th>
                                        <th>日付</th>
                                        <th>曜日</th>
                                        <th>記念日まで</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>

                    <div class="tab-panel" id="tabBirthday">
                        <div class="sub-tab-buttons" id="birthdaySubTabs">
                            <button class="sub-tab-btn active" data-subtab="birthday1">けい</button>
                            <button class="sub-tab-btn" data-subtab="birthday2">とも</button>
                        </div>

                        <div class="sub-tab-panel active" id="birthday1">
                            <div class="table-container birthday-table">
                                <h3 id="birthday1Title">けいの誕生日</h3>
                                <table id="tableBirthday1">
                                    <thead>
                                        <tr>
                                            <th>年齢</th>
                                            <th>誕生日</th>
                                            <th>曜日</th>
                                            <th>記念日まで</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>

                        <div class="sub-tab-panel" id="birthday2">
                            <div class="table-container birthday-table">
                                <h3 id="birthday2Title">ともの誕生日</h3>
                                <table id="tableBirthday2">
                                    <thead>
                                        <tr>
                                            <th id="birthday2AgeHeader" class="clickable-header">年齢</th>
                                            <th>日付</th>
                                            <th>曜日</th>
                                            <th>記念日まで</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <footer class="app-footer">
            <p>Made for kei v1.1.1</p>
        </footer>
    </div>

    <script src="script.js"></script>
    <script>
        // Register Service Worker for PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then((registration) => {
                        console.log('ServiceWorker registered:', registration.scope);
                    })
                    .catch((error) => {
                        console.log('ServiceWorker registration failed:', error);
                    });
            });
        }
    </script>
</body>

</html>